!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}({0:function(e,t,i){i(47),i(48),i(49)},47:function(e,t){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("entity-generator",{schema:{mixin:{"default":""},num:{"default":10}},init:function(){for(var e=this.data,t=0;t<e.num;t++){var i=document.createElement("a-entity");i.setAttribute("mixin",e.mixin),this.el.appendChild(i)}}})},48:function(e,t){function i(e,t,i){for(var n=[],a=Math.ceil(t/e.columns),r=0;r<a;r++)for(var s=0;s<e.columns;s++)n.push([s*e.margin,r*e.margin,0]);return n}function n(e,t,i){for(var n=[],a=0;a<t;a++){var r=a*(2*Math.PI)/t;n.push([i.x+e.radius*Math.cos(r),i.y,i.z+e.radius*Math.sin(r)])}return n}function a(e,t,n){return e.columns=t,i(e,t,n)}function r(e,t,i){return l([[1,0,0],[0,1,0],[0,0,1],[-1,0,0],[0,-1,0],[0,0,-1]],i,e.radius/2)}function s(e,t,i){var n=(1+Math.sqrt(5))/2,a=1/n,r=2-n,s=-1*a,o=-1*r;return l([[-1,r,0],[-1,o,0],[0,-1,r],[0,-1,o],[0,1,r],[0,1,o],[1,r,0],[1,o,0],[a,a,a],[a,a,s],[a,s,a],[a,s,s],[r,0,1],[r,0,-1],[s,a,a],[s,a,s],[s,s,a],[s,s,s],[o,0,1],[o,0,-1]],i,e.radius/2)}function o(e,t,i){var n=Math.sqrt(3),a=-1/Math.sqrt(3),r=2*Math.sqrt(2/3);return l([[0,0,n+a],[-1,0,a],[1,0,a],[0,r,0]],i,e.radius/2)}function l(e,t,i){return t=[t.x,t.y,t.z],e.map(function(e){return e.map(function(e,n){return e*i+t[n]})})}function u(e,t){e.forEach(function(e,i){var n=t[i];e.setAttribute("position",{x:n[0],y:n[1],z:n[2]})})}AFRAME.registerComponent("layout",{schema:{columns:{"default":1,min:0,"if":{type:["box"]}},margin:{"default":1,min:0,"if":{type:["box","line"]}},radius:{"default":1,min:0,"if":{type:["circle","cube","dodecahedron","pyramid"]}},type:{"default":"line",oneOf:["box","circle","cube","dodecahedron","line","pyramid"]}},init:function(){var e=this,t=this.el;this.children=t.getChildEntities(),this.initialPositions=[],this.children.forEach(function(t){function i(){var i=t.getComputedAttribute("position");e.initialPositions.push([i.x,i.y,i.z])}return t.hasLoaded?i():void t.addEventListener("loaded",i)}),t.addEventListener("child-attached",function(i){i.detail.el.parentNode===t&&(e.children.push(i.detail.el),e.update())})},update:function(e){var t,l,c=this.children,f=this.data,d=this.el,h=c.length,m=d.getComputedAttribute("position");switch(f.type){case"box":t=i;break;case"circle":t=n;break;case"cube":t=r;break;case"dodecahedron":t=s;break;case"pyramid":t=o;break;default:t=a}l=t(f,h,m),u(c,l)},remove:function(){this.el.removeEventListener("child-attached",this.childAttachedCallback),u(this.children,this.initialPositions)}}),e.exports.getBoxPositions=i,e.exports.getCirclePositions=n,e.exports.getLinePositions=a,e.exports.getCubePositions=r,e.exports.getDodecahedronPositions=s,e.exports.getPyramidPositions=o},49:function(e,t,i){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");i(50);var n;AFRAME.registerSystem("audioanalyser",{init:function(){this.analysers={}},getOrCreateAnalyser:function(e){n||(n=new AudioContext);var t=this.analysers,i=n.createAnalyser(),a=e.src,r=a.getAttribute("src");if(t[r])return t[r];var s=n.createMediaElementSource(a);return s.connect(i),i.connect(n.destination),i.smoothingTimeConstant=e.smoothingTimeConstant,i.fftSize=e.fftSize,t[r]=i,t[r]}}),AFRAME.registerComponent("audioanalyser",{schema:{enableBeatDetection:{"default":!0},enableLevels:{"default":!0},enableWaveform:{"default":!0},enableVolume:{"default":!0},fftSize:{"default":2048},smoothingTimeConstant:{"default":.8},src:{type:"selector"},unique:{"default":!1}},init:function(){this.analyser=null,this.levels=null,this.waveform=null,this.volume=0},update:function(){function e(e){i.analyser=e,t.enableLevels&&(i.levels=new Uint8Array(i.analyser.frequencyBinCount)),t.enableWaveform&&(i.waveform=new Uint8Array(i.analyser.fftSize)),i.el.emit("audioanalyser-ready",{analyser:e})}var t=this.data,i=this,n=this.system;t.src&&e(t.unique?n.createAnalyser(t):n.getOrCreateAnalyser(t))},tick:function(){var e=this.data;if(this.analyser){if((e.enableLevels||e.enableVolume)&&this.analyser.getByteFrequencyData(this.levels),e.enableWaveform&&this.analyser.getByteTimeDomainData(this.waveform),e.enableVolume||e.enableBeatDetection){for(var t=0,i=0;i<this.levels.length;i++)t+=this.levels[i];this.volume=t/this.levels.length}if(e.enableBeatDetection){var n=.99,a=60,r=.15;volume=this.volume,this.beatCutOff||(this.beatCutOff=volume),volume>this.beatCutOff&&volume>r?(console.log("[audioanalyser] Beat detected."),this.el.emit("audioanalyser-beat"),this.beatCutOff=1.5*volume,this.beatTime=0):this.beatTime<=a?this.beatTime++:(this.beatCutOff*=n,this.beatCutOff=Math.max(this.beatCutOff,r))}}}})},50:function(e,t){AFRAME.registerComponent("audioanalyser-levels-scale",{dependencies:["audioanalyser"],schema:{max:{"default":20},multiplier:{"default":100}},tick:function(e){var t,i,n=this.data;if(i=this.el.components.audioanalyser.levels){t=this.el.children;for(var a=0;a<t.length;a++)t[a].setAttribute("scale",{x:1,y:Math.min(n.max,Math.max(i[a]*n.multiplier,.05)),z:1})}}})}});